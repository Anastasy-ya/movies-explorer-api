{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 20:41:41 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":471248.718},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18311991,"external":19411733,"heapTotal":30203904,"heapUsed":27770512,"rss":67051520},"pid":22104,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","host":"localhost:3000","postman-token":"647e97c6-79e4-45bd-99b9-dbb7aecb5dea","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 20:46:13 GMT+0300 (Москва, стандартное время)","error":{"name":"HTTP 403 Forbidden","statusCode":403},"exception":true,"level":"error","message":"uncaughtException: Access is denied\nHTTP 403 Forbidden: Access is denied\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js:32:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":471520.796},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18317486,"external":19417228,"heapTotal":30728192,"heapUsed":28806544,"rss":68235264},"pid":13044,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGJlYjIyMDVlM2UzYmUxNGU0NGM5ZTQiLCJpYXQiOjE2OTAyMjA3NDUsImV4cCI6MTY5MDgyNTU0NX0.V30_Z-YaqjbxQ4PTU6FLoZyjPmwQfcopIy_GlhvwsW4","host":"localhost:3000","postman-token":"87eccd46-6868-4f89-a0e6-7665af5ec18b","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"DELETE","originalUrl":"/movies/64be84f4543944d25929fbf2","query":{},"url":"/movies/64be84f4543944d25929fbf2"},"stack":"HTTP 403 Forbidden: Access is denied\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js:32:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js","function":null,"line":32,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 22:00:59 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":476006.921},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18309500,"external":19409242,"heapTotal":30990336,"heapUsed":28206864,"rss":66891776},"pid":26648,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","host":"localhost:3000","sec-ch-ua":"\"Opera\";v=\"99\", \"Chromium\";v=\"113\", \"Not-A.Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"none","sec-fetch-user":"?1","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 OPR/99.0.0.0 (Edition Yx 05)"},"httpVersion":"1.1","method":"GET","originalUrl":"/","query":{},"url":"/"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 22:00:59 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":476007.062},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18315466,"external":19415248,"heapTotal":30990336,"heapUsed":28518896,"rss":67342336},"pid":26648,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","host":"localhost:3000","sec-ch-ua":"\"Opera\";v=\"99\", \"Chromium\";v=\"113\", \"Not-A.Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"image","sec-fetch-mode":"no-cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 OPR/99.0.0.0 (Edition Yx 05)"},"httpVersion":"1.1","method":"GET","originalUrl":"/favicon.ico","query":{},"url":"/favicon.ico"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:14:32 GMT+0300 (Москва, стандартное время)","error":{"name":"Attempt to create an existing object","statusCode":409},"exception":true,"level":"error","message":"uncaughtException: User already exists\nAttempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":523619.828},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295754,"external":19395496,"heapTotal":30466048,"heapUsed":27715192,"rss":66605056},"pid":12544,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"75","content-type":"application/json","credentials":"include","host":"localhost:3000","postman-token":"ad6beb32-6915-41f1-965f-c8e91cb83708","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Attempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":25,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":26,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
