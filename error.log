{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 20:41:41 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":471248.718},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18311991,"external":19411733,"heapTotal":30203904,"heapUsed":27770512,"rss":67051520},"pid":22104,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","host":"localhost:3000","postman-token":"647e97c6-79e4-45bd-99b9-dbb7aecb5dea","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 20:46:13 GMT+0300 (Москва, стандартное время)","error":{"name":"HTTP 403 Forbidden","statusCode":403},"exception":true,"level":"error","message":"uncaughtException: Access is denied\nHTTP 403 Forbidden: Access is denied\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js:32:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":471520.796},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18317486,"external":19417228,"heapTotal":30728192,"heapUsed":28806544,"rss":68235264},"pid":13044,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGJlYjIyMDVlM2UzYmUxNGU0NGM5ZTQiLCJpYXQiOjE2OTAyMjA3NDUsImV4cCI6MTY5MDgyNTU0NX0.V30_Z-YaqjbxQ4PTU6FLoZyjPmwQfcopIy_GlhvwsW4","host":"localhost:3000","postman-token":"87eccd46-6868-4f89-a0e6-7665af5ec18b","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"DELETE","originalUrl":"/movies/64be84f4543944d25929fbf2","query":{},"url":"/movies/64be84f4543944d25929fbf2"},"stack":"HTTP 403 Forbidden: Access is denied\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js:32:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\movies.js","function":null,"line":32,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 22:00:59 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":476006.921},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18309500,"external":19409242,"heapTotal":30990336,"heapUsed":28206864,"rss":66891776},"pid":26648,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","host":"localhost:3000","sec-ch-ua":"\"Opera\";v=\"99\", \"Chromium\";v=\"113\", \"Not-A.Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"none","sec-fetch-user":"?1","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 OPR/99.0.0.0 (Edition Yx 05)"},"httpVersion":"1.1","method":"GET","originalUrl":"/","query":{},"url":"/"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Mon Jul 24 2023 22:00:59 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Unauthorized!\nAccess denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":476007.062},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18315466,"external":19415248,"heapTotal":30990336,"heapUsed":28518896,"rss":67342336},"pid":26648,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8","accept-encoding":"gzip, deflate, br","accept-language":"ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","host":"localhost:3000","sec-ch-ua":"\"Opera\";v=\"99\", \"Chromium\";v=\"113\", \"Not-A.Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"image","sec-fetch-mode":"no-cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 OPR/99.0.0.0 (Edition Yx 05)"},"httpVersion":"1.1","method":"GET","originalUrl":"/favicon.ico","query":{},"url":"/favicon.ico"},"stack":"Access denied!: Unauthorized!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:14:32 GMT+0300 (Москва, стандартное время)","error":{"name":"Attempt to create an existing object","statusCode":409},"exception":true,"level":"error","message":"uncaughtException: User already exists\nAttempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":523619.828},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295754,"external":19395496,"heapTotal":30466048,"heapUsed":27715192,"rss":66605056},"pid":12544,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"75","content-type":"application/json","credentials":"include","host":"localhost:3000","postman-token":"ad6beb32-6915-41f1-965f-c8e91cb83708","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Attempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":25,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":26,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:15:30 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"name":1},"keyValue":{"name":"вкеранорао"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":523677.656},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18300490,"external":19400232,"heapTotal":31514624,"heapUsed":29648992,"rss":68841472},"pid":10116,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"77","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGJlYjIyMDVlM2UzYmUxNGU0NGM5ZTQiLCJpYXQiOjE2OTAyNzI4NzQsImV4cCI6MTY5MDg3NzY3NH0.JSgRxW2WhlTbVpOdQgW5sEKJToCF2yM9Kx221tP4WWc","host":"localhost:3000","postman-token":"18eb1068-55cc-48f4-b020-385129c9b691","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:15:49 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"name":1},"keyValue":{"name":"вкеранорао"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":523696.796},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18310105,"external":19409887,"heapTotal":31776768,"heapUsed":29489688,"rss":68444160},"pid":10116,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGJlYjIyMDVlM2UzYmUxNGU0NGM5ZTQiLCJpYXQiOjE2OTAyNzI4NzQsImV4cCI6MTY5MDg3NzY3NH0.JSgRxW2WhlTbVpOdQgW5sEKJToCF2yM9Kx221tP4WWc","host":"localhost:3000","postman-token":"4c4884e9-e7f1-448a-9723-6c2bb67251fc","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"вкеранорао\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:16:56 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: User not found\nAccess denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","os":{"loadavg":[0,0,0],"uptime":523764.062},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18306880,"external":19406662,"heapTotal":32301056,"heapUsed":29956680,"rss":69316608},"pid":10116,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3000","postman-token":"33a1d77f-ef82-40f7-8101-aef344ba30c9","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Access denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":41,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"_orFailError","line":4321,"method":null,"native":false},{"column":17,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4275,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4500,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"Query._completeOne","line":2438,"method":"_completeOne","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":2514,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query._findOne","line":2513,"method":"_findOne","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"async model.Query.exec","line":4404,"method":"exec","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:17:09 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":523776.468},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295947,"external":19395729,"heapTotal":32825344,"heapUsed":30113968,"rss":69263360},"pid":10116,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"75","content-type":"application/json","host":"localhost:3000","postman-token":"8af6f6d2-5f44-46c7-b043-04905614f2b1","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Error: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Tue Jul 25 2023 11:17:46 GMT+0300 (Москва, стандартное время)","error":{"name":"NotFound","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Page not found\nNotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","os":{"loadavg":[0,0,0],"uptime":523814.281},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18305326,"external":19405108,"heapTotal":32825344,"heapUsed":30656080,"rss":69869568},"pid":10116,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGJmODRmZTMxODI4MGFkZTAyZWM3YzIiLCJpYXQiOjE2OTAyNzMwMzUsImV4cCI6MTY5MDg3NzgzNX0.wOO_Ao29g0HQnFO72ZKI4A6TtK2quvzJMMUIIIG-5Zk","host":"localhost:3000","postman-token":"cef73379-38b2-437f-ab34-cabec8144b62","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/_404_","query":{},"url":"/_404_"},"stack":"NotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","trace":[{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js","function":null,"line":25,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":17,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Wed Jul 26 2023 13:49:25 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: User not found\nAccess denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","os":{"loadavg":[0,0,0],"uptime":619312.562},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18385519,"external":19479739,"heapTotal":30466048,"heapUsed":28527904,"rss":66883584},"pid":12452,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3000","postman-token":"791105ae-1080-43dd-b66b-d86daefdebc4","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Access denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":41,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"_orFailError","line":4321,"method":null,"native":false},{"column":17,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4275,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4500,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"Query._completeOne","line":2438,"method":"_completeOne","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":2514,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query._findOne","line":2513,"method":"_findOne","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"async model.Query.exec","line":4404,"method":"exec","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:03:51 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":699376.906},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295524,"external":19395266,"heapTotal":30728192,"heapUsed":28164200,"rss":66686976},"pid":30756,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"62","content-type":"application/json","host":"localhost:3001","postman-token":"33028e5e-7f07-4a3e-a0aa-6b6d62c9e9fa","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Error: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:04:19 GMT+0300 (Москва, стандартное время)","error":{"name":"Attempt to create an existing object","statusCode":409},"exception":true,"level":"error","message":"uncaughtException: User already exists\nAttempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":699405.343},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18298057,"external":19397839,"heapTotal":30990336,"heapUsed":28954048,"rss":67792896},"pid":30756,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"75","content-type":"application/json","host":"localhost:3001","postman-token":"3e07277b-a9c3-44ef-a44b-2dc5458949f8","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Attempt to create an existing object: User already exists\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:26:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":25,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":26,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:04:38 GMT+0300 (Москва, стандартное время)","error":{"name":"NotFound","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Page not found\nNotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","os":{"loadavg":[0,0,0],"uptime":699423.875},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18296528,"external":19396310,"heapTotal":31776768,"heapUsed":29303664,"rss":68022272},"pid":30756,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMwZmEzODFhY2EwNWQzYjNhYzIzM2EiLCJpYXQiOjE2OTA0NDg2NzQsImV4cCI6MTY5MTA1MzQ3NH0.RVGNT8zeTFzdPUHIpdfaC6b1VTf8M_FSvThn1BIp4ak","host":"localhost:3001","postman-token":"70f290f2-505e-477f-a041-49b247e118fb","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/cards","query":{},"url":"/cards"},"stack":"NotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","trace":[{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js","function":null,"line":25,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":17,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:06:00 GMT+0300 (Москва, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":699505.921},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18315408,"external":19415190,"heapTotal":31776768,"heapUsed":29895912,"rss":68710400},"pid":30756,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"65","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMwZmEzODFhY2EwNWQzYjNhYzIzM2EiLCJpYXQiOjE2OTA0NDg2NzQsImV4cCI6MTY5MTA1MzQ3NH0.RVGNT8zeTFzdPUHIpdfaC6b1VTf8M_FSvThn1BIp4ak","host":"localhost:3001","postman-token":"741def88-9df6-440f-832d-0e1bff40560d","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies","query":{},"url":"/movies"},"stack":"Error: Validation failed\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:25:11 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Authorization required!\nAccess denied!: Authorization required!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":700657.531},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18330055,"external":19429797,"heapTotal":30203904,"heapUsed":28464920,"rss":67010560},"pid":7152,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","host":"localhost:3001","postman-token":"6f0a1efe-bace-4f9e-a974-a2ea9be59874","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"Access denied!: Authorization required!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:27:02 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: User not found\nAccess denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","os":{"loadavg":[0,0,0],"uptime":700768.39},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18303800,"external":19403582,"heapTotal":31514624,"heapUsed":29040640,"rss":67960832},"pid":7152,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3001","postman-token":"0efad3c3-93ec-44b4-b19f-f62d10908b53","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Access denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":41,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"_orFailError","line":4321,"method":null,"native":false},{"column":17,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4275,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4500,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"Query._completeOne","line":2438,"method":"_completeOne","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":2514,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query._findOne","line":2513,"method":"_findOne","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"async model.Query.exec","line":4404,"method":"exec","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:27:16 GMT+0300 (Москва, стандартное время)","error":{"name":"NotFound","statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Page not found\nNotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","os":{"loadavg":[0,0,0],"uptime":700782.156},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18310235,"external":19410017,"heapTotal":31776768,"heapUsed":30176880,"rss":68939776},"pid":7152,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyMzg2YzcwNWViOTAzOGMyOTZjYmEiLCJpYXQiOjE2OTA0NTAwMzIsImV4cCI6MTY5MTA1NDgzMn0.ewEJ5xKV4tA8oSjtqDWPiX8svqqjGWtm06FGdburCzc","host":"localhost:3001","postman-token":"6172b9ba-896e-4f33-9f99-d1f868be1663","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"GET","originalUrl":"/_404_","query":{},"url":"/_404_"},"stack":"NotFound: Page not found\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js:25:14\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:17:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","trace":[{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\routes\\index.js","function":null,"line":25,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":17,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:27:23 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"name":1},"keyValue":{"name":"fghfghfghfdhg"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":700788.968},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18304010,"external":19403792,"heapTotal":32301056,"heapUsed":29644464,"rss":68562944},"pid":7152,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"64","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyMzg2YzcwNWViOTAzOGMyOTZjYmEiLCJpYXQiOjE2OTA0NTAwMzIsImV4cCI6MTY5MTA1NDgzMn0.ewEJ5xKV4tA8oSjtqDWPiX8svqqjGWtm06FGdburCzc","host":"localhost:3001","postman-token":"cc74e3b5-3c75-492e-98ee-ea0c194e7948","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:40:32 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: Authorization required!\nAccess denied!: Authorization required!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","os":{"loadavg":[0,0,0],"uptime":701578},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18386477,"external":19486219,"heapTotal":30466048,"heapUsed":28434360,"rss":67309568},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"64","content-type":"application/json","host":"localhost:3001","postman-token":"770e2653-0e62-483d-a30b-76a20b6ab597","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"Access denied!: Authorization required!\n    at auth (C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js:14:10)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at Function.process_params (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at Layer.handle [as handle_request] (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)","trace":[{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\middlewares\\auth.js","function":"auth","line":14,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":3,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":175,"method":"handle","native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:41:09 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"name":1},"keyValue":{"name":"fghfghfghfdhg"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":701614.984},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295818,"external":19395600,"heapTotal":31514624,"heapUsed":28887504,"rss":67973120},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"60","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyMzg2YzcwNWViOTAzOGMyOTZjYmEiLCJpYXQiOjE2OTA0NTA4MzUsImV4cCI6MTY5MTA1NTYzNX0.IZdh4Zd2EBJ9DeYduq1khkyz-nfwWj5Jtqqi6_dZuaQ","host":"localhost:3001","postman-token":"49faa1e2-fec8-4aa0-92df-3d53a6658edb","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: name_1 dup key: { name: \"fghfghfghfdhg\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:43:17 GMT+0300 (Москва, стандартное время)","error":{"name":"Access denied!","statusCode":401},"exception":true,"level":"error","message":"uncaughtException: User not found\nAccess denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","os":{"loadavg":[0,0,0],"uptime":701743.265},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18304631,"external":19404413,"heapTotal":32301056,"heapUsed":29809816,"rss":68575232},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"52","content-type":"application/json","host":"localhost:3001","postman-token":"77909954-1010-4f9c-8f8d-83e2411dd0a8","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"Access denied!: User not found\n    at model.Query.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js:41:19)\n    at _orFailError (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4321:15)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4275:17\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4500:15\n    at Query._completeOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2438:12)\n    at C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2514:10\n    at new Promise (<anonymous>)\n    at model.Query._findOne (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:2513:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js:4404:11)","trace":[{"column":19,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\controllers\\users.js","function":null,"line":41,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"_orFailError","line":4321,"method":null,"native":false},{"column":17,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4275,"method":null,"native":false},{"column":15,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":4500,"method":null,"native":false},{"column":12,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"Query._completeOne","line":2438,"method":"_completeOne","native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":null,"line":2514,"method":null,"native":false},{"column":null,"file":null,"function":"new Promise","line":null,"method":null,"native":false},{"column":10,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"model.Query._findOne","line":2513,"method":"_findOne","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":11,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongoose\\lib\\query.js","function":"async model.Query.exec","line":4404,"method":"exec","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:43:54 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"otyuem@email.ru"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":701780.093},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18304655,"external":19404437,"heapTotal":32825344,"heapUsed":30227848,"rss":69148672},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyM2MzODhiYTE1NmJiOWY0ZDFlMzMiLCJpYXQiOjE2OTA0NTEwMDMsImV4cCI6MTY5MTA1NTgwM30.MGMAEWr89ODROPdRq2ZmQauHAsklG65GKQxsMvbDQcg","host":"localhost:3001","postman-token":"967117ec-3f50-408a-b8b9-83fe133908c4","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:43:55 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"otyuem@email.ru"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":701781.562},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18310736,"external":19410518,"heapTotal":32825344,"heapUsed":30697744,"rss":69513216},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyM2MzODhiYTE1NmJiOWY0ZDFlMzMiLCJpYXQiOjE2OTA0NTEwMDMsImV4cCI6MTY5MTA1NTgwM30.MGMAEWr89ODROPdRq2ZmQauHAsklG65GKQxsMvbDQcg","host":"localhost:3001","postman-token":"6ffcbf9b-58e4-4e5b-af4f-b09d5d1b1fde","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Thu Jul 27 2023 12:43:57 GMT+0300 (Москва, стандартное время)","error":{"code":11000,"codeName":"DuplicateKey","keyPattern":{"email":1},"keyValue":{"email":"otyuem@email.ru"},"ok":0},"exception":true,"level":"error","message":"uncaughtException: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\nMongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","os":{"loadavg":[0,0,0],"uptime":701782.906},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\Ya\\development\\movies-explorer-api\\app.js"],"cwd":"C:\\Users\\Ya\\development\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18316808,"external":19416590,"heapTotal":32825344,"heapUsed":30999080,"rss":69898240},"pid":20624,"uid":null,"version":"v18.14.2"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"57","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGMyM2MzODhiYTE1NmJiOWY0ZDFlMzMiLCJpYXQiOjE2OTA0NTEwMDMsImV4cCI6MTY5MTA1NTgwM30.MGMAEWr89ODROPdRq2ZmQauHAsklG65GKQxsMvbDQcg","host":"localhost:3001","postman-token":"e5222626-673a-4001-a103-b5d09661586e","user-agent":"PostmanRuntime/7.32.3"},"httpVersion":"1.1","method":"PATCH","originalUrl":"/users/me","query":{},"url":"/users/me"},"stack":"MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: bitfilmsdb.users index: email_1 dup key: { email: \"otyuem@email.ru\" }\n    at Connection.onMessage (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at Socket.ondata (node:internal/streams/readable:766:22)\n    at Socket.emit (node:events:513:28)","trace":[{"column":26,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":"Connection.onMessage","line":202,"method":"onMessage","native":false},{"column":60,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\connection.js","function":null,"line":61,"method":null,"native":false},{"column":28,"file":"node:events","function":"MessageStream.emit","line":513,"method":"emit","native":false},{"column":16,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"processIncomingData","line":124,"method":null,"native":false},{"column":9,"file":"C:\\Users\\Ya\\development\\movies-explorer-api\\node_modules\\mongodb\\lib\\cmap\\message_stream.js","function":"MessageStream._write","line":33,"method":"_write","native":false},{"column":12,"file":"node:internal/streams/writable","function":"writeOrBuffer","line":392,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"_write","line":333,"method":null,"native":false},{"column":10,"file":"node:internal/streams/writable","function":"Writable.write","line":337,"method":"write","native":false},{"column":22,"file":"node:internal/streams/readable","function":"Socket.ondata","line":766,"method":"ondata","native":false},{"column":28,"file":"node:events","function":"Socket.emit","line":513,"method":"emit","native":false}]}}
